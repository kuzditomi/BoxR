var __extends=this.__extends||function(n,t){function i(){this.constructor=n}i.prototype=t.prototype,n.prototype=new i},BoxR;(function(n){"use strict";var t=function(t){function i(){t.call(this),this.Blanket=document.getElementById("blanket"),n.Manager.PopupControl=new Popup(document.getElementById("popup"))}return __extends(i,t),i.prototype.StartGame=function(t,i,r){var o=this,u,e,f;this.ClosePopup(),e=$(this.Blanket).height()*.65,f=document.getElementById("innerContainer"),$.ajax("/Home/StartGame",{data:{name:i,opponent:r,selfstart:t,cwidth:e}}).done(function(i){var r,s,e,h;f.innerHTML=i,r=f.getElementsByTagName("canvas")[0],s=$("canvas").parent().width(),r.height=s,r.width=s,u=new n.Game(r),n.Manager.Game=u,u.Init(3,t),u.Draw(),r.addEventListener("click",function(n){u.Click(n)},!0),r.addEventListener("mousemove",function(n){u.MouseMove(n)}),e=$(f).find("#turnDiv"),e&&(e.html("<h1>"+(t?"blue turn":"red turn")+"<\/h1>"),e.addClass(t?"tile-blue":"tile-red")),h=document.getElementById("backbutton"),h.onclick=null;$(h).on("click",function(){o.QuitPopup()})})},i.prototype.InvitedPopup=function(t){n.Manager.PopupControl.Invite(t.UserName)},i.prototype.WaitPopup=function(t){n.Manager.PopupControl.Wait(t)},i.prototype.QuitPopup=function(){n.Manager.PopupControl.Quit()},i.prototype.DisconnectPopup=function(){n.Manager.PopupControl.Disconnect()},i.prototype.WinPopup=function(){n.Manager.PopupControl.Win()},i.prototype.LosePopup=function(){n.Manager.PopupControl.Lose()},i.prototype.ClosePopup=function(){n.Manager.PopupControl.Hide()},i}(n.ClientBase);n.WebClient=t})(BoxR||(BoxR={}))